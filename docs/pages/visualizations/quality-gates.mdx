---
title: Quality Gate Dashboard
description: Monitor the six automated quality gates that ensure production-ready code
---

import { QualityGateDashboard } from '../../components/visualizations/QualityGateDashboard.tsx'

# Quality Gate Dashboard

A **visualization** showing agentful's six automated quality gates that validate every feature before deployment.

## Overview

This visualization demonstrates how agentful's quality gates work. In your actual project, these gates are run automatically by the **reviewer agent** when you use `/agentful-validate`. Results are stored in `.agentful/last-validation.json`.

**The Six Quality Gates:**

1. **Type Checking** - Zero type errors
2. **Linting** - Code follows style guide
3. **Tests** - All tests passing
4. **Coverage** - Minimum 80% code coverage
5. **Security** - No vulnerable dependencies
6. **Dead Code** - No unused exports or files

Every feature must pass all six gates before being marked complete.

> **Note:** This is a demo visualization, not a live dashboard. To run actual quality gates on your project, use `/agentful-validate` in Claude Code.

---

## Interactive Demo

Click any gate to see detailed information. The overall score updates in real-time.

<div style={{ marginTop: '2rem', marginBottom: '3rem' }}>
  <QualityGateDashboard showOverallScore={true} interactive={true} />
</div>

---

## The Six Quality Gates

### üìò Type Checking

**Goal:** Zero type errors in codebase

**Checks:**
- TypeScript compilation (`tsc --noEmit`)
- Flow type checking (if configured)
- Type coverage percentage
- Strict mode compliance

**Example Output:**
```
‚úì PASS - 0 type errors found
  ‚Ä¢ Checked 247 files
  ‚Ä¢ 100% type coverage
  ‚Ä¢ Strict mode: enabled
```

**Common Failures:**
```
‚úó FAIL - 3 type errors found

src/api/users.ts:45
  Type 'string | undefined' is not assignable to type 'string'

src/components/Header.tsx:12
  Property 'onClick' does not exist on type 'HeaderProps'

src/utils/format.ts:8
  Argument of type 'number' is not assignable to parameter of type 'string'
```

**Auto-fix:**
The **Fixer** agent automatically adds type annotations, fixes simple type mismatches, and suggests proper types for ambiguous cases.

---

### ‚ú® Linting

**Goal:** Code follows project style guide

**Checks:**
- ESLint rules (JavaScript/TypeScript)
- Prettier formatting
- Import order and organization
- Unused variables and imports
- Console.log statements in production code

**Example Output:**
```
‚úì PASS - 0 violations found
  ‚Ä¢ Checked 247 files
  ‚Ä¢ 0 errors, 0 warnings
  ‚Ä¢ Prettier: formatted
```

**Common Failures:**
```
‚úó FAIL - 5 violations found

src/api/users.ts:12
  'userId' is defined but never used (no-unused-vars)

src/components/Button.tsx:45
  Missing semicolon (semi)

src/utils/api.ts:3
  'axios' should be listed in dependencies, not devDependencies (import/no-extraneous-dependencies)
```

**Auto-fix:**
The **Fixer** agent automatically runs ESLint with `--fix` flag and Prettier to resolve most linting issues.

---

### üß™ Tests

**Goal:** All test suites passing

**Checks:**
- Unit tests (functions, components)
- Integration tests (API endpoints, workflows)
- E2E tests (critical user journeys)
- Snapshot tests (UI regression)
- Test performance (no timeouts)

**Example Output:**
```
‚úì PASS - 24/24 tests passing
  ‚Ä¢ 18 unit tests
  ‚Ä¢ 4 integration tests
  ‚Ä¢ 2 E2E tests
  ‚Ä¢ Runtime: 2.3s
```

**Common Failures:**
```
‚úó FAIL - 2/24 tests failing

FAIL src/api/users.test.ts
  ‚óè User API ‚Ä∫ should create user with valid data
    Expected status 201, received 500

    at tests/api/users.test.ts:45:12

FAIL src/components/Button.test.tsx
  ‚óè Button ‚Ä∫ should call onClick handler
    Expected mock function to be called once, but it was called 0 times

    at tests/components/Button.test.tsx:23:8
```

**Auto-fix:**
The **Fixer** agent attempts to fix broken tests by:
- Updating assertions to match actual behavior (if correct)
- Fixing mock setup issues
- Adding missing test data
- Resolving async timing issues

If the test failure indicates a real bug, the **Fixer** updates the implementation code instead.

---

### üìä Coverage

**Goal:** Minimum 80% code coverage

**Checks:**
- Line coverage percentage
- Branch coverage percentage
- Function coverage percentage
- Statement coverage percentage
- Uncovered files and lines

**Example Output:**
```
‚úì PASS - 87% coverage (exceeds 80% minimum)
  ‚Ä¢ Lines: 87.2% (1,234/1,415)
  ‚Ä¢ Branches: 82.5% (234/284)
  ‚Ä¢ Functions: 91.3% (156/171)
  ‚Ä¢ Statements: 87.1% (1,221/1,402)
```

**Common Failures:**
```
‚úó FAIL - 72% coverage (below 80% minimum)
  ‚Ä¢ Lines: 72.4% (1,024/1,415)
  ‚Ä¢ Branches: 65.2% (185/284)

Uncovered files:
  ‚Ä¢ src/utils/validation.ts (12% coverage)
  ‚Ä¢ src/api/orders.ts (45% coverage)
  ‚Ä¢ src/components/Chart.tsx (0% coverage)
```

**Auto-fix:**
The **Fixer** agent generates tests for uncovered code paths:
- Adds unit tests for uncovered functions
- Tests edge cases and error paths
- Covers uncovered branches with additional test cases

---

### üîí Security

**Goal:** No known vulnerabilities in dependencies

**Checks:**
- NPM audit for vulnerable packages
- Outdated dependencies with security patches
- License compliance
- Hardcoded secrets detection
- Known CVEs in dependencies

**Example Output:**
```
‚úì PASS - 0 vulnerabilities found
  ‚Ä¢ Checked 342 dependencies
  ‚Ä¢ 0 high, 0 moderate, 0 low
  ‚Ä¢ All licenses: MIT, Apache-2.0
  ‚Ä¢ No secrets detected
```

**Common Failures:**
```
‚úó FAIL - 3 vulnerabilities found

HIGH - Prototype Pollution in lodash
  Package: lodash
  Vulnerable: <4.17.21
  Installed: 4.17.20
  Fix: npm update lodash

MODERATE - Cross-Site Scripting in sanitize-html
  Package: sanitize-html
  Vulnerable: <2.7.1
  Installed: 2.3.0
  Fix: npm install sanitize-html@2.7.1

LOW - Regular Expression Denial of Service in validator
  Package: validator
  Vulnerable: <13.7.0
  Installed: 13.6.0
  Fix: npm update validator
```

**Auto-fix:**
The **Fixer** agent automatically:
- Runs `npm audit fix` to update vulnerable packages
- Updates to latest compatible versions
- Adds overrides if direct update not possible
- Warns if breaking changes required

---

### üóëÔ∏è Dead Code

**Goal:** No unused exports, files, or dependencies

**Checks:**
- Unused exports (functions, components, types)
- Unused files (never imported)
- Unused dependencies (package.json)
- Duplicate code detection
- Circular dependencies

**Example Output:**
```
‚úì PASS - 0 unused exports found
  ‚Ä¢ Analyzed 247 files
  ‚Ä¢ All exports used
  ‚Ä¢ All dependencies used
  ‚Ä¢ 0 circular dependencies
```

**Common Failures:**
```
‚úó FAIL - 8 unused items found

Unused exports:
  ‚Ä¢ src/utils/helpers.ts: formatDate (never used)
  ‚Ä¢ src/components/Card.tsx: CardFooter (never used)

Unused files:
  ‚Ä¢ src/legacy/oldApi.ts (never imported)

Unused dependencies:
  ‚Ä¢ moment (not imported anywhere)
  ‚Ä¢ jquery (not imported anywhere)

Circular dependencies:
  ‚Ä¢ src/api/users.ts ‚Üí src/utils/auth.ts ‚Üí src/api/users.ts
```

**Auto-fix:**
The **Fixer** agent automatically:
- Removes unused exports and files
- Removes unused dependencies from package.json
- Suggests refactoring to break circular dependencies
- Archives old code instead of deleting (moves to `archive/`)

---

## Overall Quality Score

The dashboard calculates an overall quality score based on all six gates:

```
Overall Score = (Passing Gates / Total Gates) √ó 100
```

**Example:**
- Type Checking: ‚úì PASS
- Linting: ‚úì PASS
- Tests: ‚úó FAIL
- Coverage: ‚úì PASS
- Security: ‚úì PASS
- Dead Code: ‚úì PASS

**Overall Score: 83%** (5/6 gates passing)

---

## Integration with agentful

### Run Quality Gates Manually

```bash
# Start Claude Code
claude

# Run all quality gates
/agentful-validate
```

Output:
```
Running 6 quality gates...

‚úì Type Checking - 0 errors
‚úì Linting - 0 violations
‚úó Tests - 2/24 failing
‚úì Coverage - 87%
‚úì Security - 0 vulnerabilities
‚úì Dead Code - 0 unused exports

Overall: 83% (5/6 passing)

Starting auto-fix for failing gates...
```

### View Last Validation

Check `.agentful/last-validation.json`:

```json
{
  "timestamp": "2024-01-21T10:30:00Z",
  "overallScore": 83,
  "gates": {
    "types": {
      "status": "pass",
      "errors": 0,
      "details": "Checked 247 files, 0 errors"
    },
    "lint": {
      "status": "pass",
      "violations": 0,
      "details": "ESLint and Prettier checks passed"
    },
    "tests": {
      "status": "fail",
      "passing": 22,
      "total": 24,
      "details": "2 tests failing in src/api/users.test.ts"
    },
    "coverage": {
      "status": "pass",
      "percentage": 87,
      "details": "Exceeds 80% minimum requirement"
    },
    "security": {
      "status": "pass",
      "vulnerabilities": 0,
      "details": "No known vulnerabilities"
    },
    "deadcode": {
      "status": "pass",
      "unused": 0,
      "details": "No unused exports or files"
    }
  }
}
```

### Auto-fix Loop

When quality gates fail, agentful automatically triggers the **Fixer** agent:

```
Reviewer Agent: Running quality gates...
  ‚úó Tests failing (2/24)

Orchestrator: Delegating to Fixer Agent...

Fixer Agent: Analyzing test failures...
  ‚Ä¢ src/api/users.test.ts:45 - Expected 201, got 500
  ‚Ä¢ Root cause: Missing error handling in createUser()
  ‚Ä¢ Fixing implementation...
  ‚úì Added try-catch block
  ‚úì Tests now passing (24/24)

Orchestrator: Re-running quality gates...
  ‚úì All gates passing!
```

---

## Quality Gate Scenarios

### All Gates Passing

<div style={{ marginTop: '2rem', marginBottom: '2rem' }}>
  <QualityGateDashboard
    showOverallScore={true}
  />
</div>

**Overall Score: 100%** - Ready for deployment!

---

### Multiple Failures

Here's what the dashboard looks like when multiple gates fail:

```typescript
const failingGates = [
  {
    id: 'types',
    status: 'fail',
    metric: { value: 5, unit: 'errors' },
  },
  {
    id: 'tests',
    status: 'fail',
    metric: { value: 18, total: 24, unit: 'passing' },
  },
  {
    id: 'coverage',
    status: 'fail',
    metric: { value: 65, unit: '%' },
  },
]
```

<div style={{ marginTop: '2rem', marginBottom: '2rem' }}>
  <QualityGateDashboard
    gates={[
      { id: 'types', name: 'Type Checking', icon: 'üìò', color: '#3b82f6', status: 'fail', metric: { value: 5, unit: 'errors' }, description: '5 type errors found' },
      { id: 'lint', name: 'Linting', icon: '‚ú®', color: '#8b5cf6', status: 'pass', metric: { value: 0, unit: 'violations' }, description: 'Code follows style guide' },
      { id: 'tests', name: 'Tests', icon: 'üß™', color: '#f59e0b', status: 'fail', metric: { value: 18, total: 24, unit: 'passing' }, description: '6 tests failing' },
      { id: 'coverage', name: 'Coverage', icon: 'üìä', color: '#14b8a6', status: 'fail', metric: { value: 65, unit: '%' }, description: 'Below 80% minimum' },
      { id: 'security', name: 'Security', icon: 'üîí', color: '#ef4444', status: 'pass', metric: { value: 0, unit: 'vulnerabilities' }, description: 'No known vulnerabilities' },
      { id: 'deadcode', name: 'Dead Code', icon: 'üóëÔ∏è', color: '#6b7280', status: 'pass', metric: { value: 0, unit: 'unused exports' }, description: 'No unused code detected' },
    ]}
    showOverallScore={true}
  />
</div>

**Overall Score: 50%** - Auto-fix triggered

---

## Compact Mode

For sidebar or dashboard widgets, use compact mode:

```typescript
<QualityGateDashboard compact={true} />
```

Shows condensed view:
- Gate icon and name only
- Pass/fail indicator
- No detailed metrics
- Smaller footprint

---

## Accessibility

The quality gate dashboard is fully accessible:

- **ARIA live region** for score updates
- **Semantic HTML** for gate cards
- **Keyboard navigation** through gates
- **Screen reader announcements** for pass/fail status
- **High contrast** colors for visibility
- **Focus indicators** on interactive elements

---

## TypeScript Types

```typescript
// Gate identifiers
type GateId = 'types' | 'lint' | 'tests' | 'coverage' | 'security' | 'deadcode'

// Gate status
type GateStatus = 'pass' | 'fail'

// Metric
interface QualityGateMetric {
  value: number
  unit: string
  total?: number
}

// Quality Gate
interface QualityGate {
  id: GateId
  name: string
  icon: string
  color: string
  status: GateStatus
  metric: QualityGateMetric
  description: string
  details?: string
  lastChecked?: Date
}

// Component props
interface QualityGateDashboardProps {
  gates?: QualityGate[]
  showOverallScore?: boolean
  interactive?: boolean
  compact?: boolean
}
```

---

## Best Practices

### Quality Gate Standards

**Type Checking:**
- Enable strict mode in TypeScript
- Use `noImplicitAny` for type safety
- Avoid `any` types (use `unknown` instead)
- Type all function parameters and returns

**Linting:**
- Use consistent style guide (Airbnb, Standard, etc.)
- Enable recommended ESLint rules
- Auto-format with Prettier on save
- No console.log in production

**Tests:**
- Test happy path and edge cases
- Mock external dependencies
- Use descriptive test names
- Test error scenarios

**Coverage:**
- Target 80% minimum, aim for 90%+
- Focus on critical business logic
- Don't skip error handling tests
- Test edge cases and boundaries

**Security:**
- Run `npm audit` regularly
- Keep dependencies updated
- Use package lock files
- Never commit secrets

**Dead Code:**
- Remove unused code immediately
- Run dead code checks before PR
- Use tree shaking in bundler
- Archive instead of delete if uncertain

---

## Next Steps

- **[Workflow Pipeline](/visualizations/workflow-pipeline)** - See where quality gates fit in development flow
- **[Agent Architecture](/visualizations/agent-architecture)** - Understand reviewer and fixer agents
- **[Validation Skill](/skills/validation)** - Learn about validation implementation
- **[Commands Reference](/commands/agentful-validate)** - Run quality gates manually
- **[Quick Start](/getting-started/quick-start)** - Start building with quality gates
