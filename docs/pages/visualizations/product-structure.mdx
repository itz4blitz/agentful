---
title: Product Structure Visualization
description: Hierarchical visualization of your product specification with domains, features, and subtasks
---

import { ProductStructureVisualizer } from '../../components/visualizations/ProductStructureVisualizer.tsx'

# Product Structure Visualization

An interactive hierarchical tree showing your product specification organized by domains, features, and subtasks with real-time progress tracking.

## Overview

The Product Structure visualization transforms your flat or hierarchical product specification into a beautiful, navigable tree that makes it easy to:
- Understand product scope and organization
- Track completion percentages at every level
- Identify high-priority features
- See dependencies between features
- Monitor progress in real-time

---

## Interactive Demo

Click any node to expand/collapse its children. Hover to see detailed information.

<div style={{ marginTop: '2rem', marginBottom: '3rem', minHeight: '600px' }}>
  <ProductStructureVisualizer expandedByDefault={true} interactive={false} />
</div>

---

## Hierarchy Levels

### ğŸ“¦ Product Level (Top)

The root node representing your entire product.

**Shows:**
- Product name
- Overall completion percentage
- Total number of domains
- Product description

**Example:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   E-commerce SaaS   â”‚
â”‚       65% âœ“         â”‚
â”‚    3 domains        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ğŸ—‚ï¸ Domain Level

Major functional areas or modules of your product.

**Shows:**
- Domain name
- Domain completion percentage
- Number of features in domain
- Domain description

**Color coding:**
- **Blue (#3b82f6)** - Standard domain
- Progress bar fills based on average feature completion

**Example:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User Management    â”‚
â”‚       80% âœ“         â”‚
â”‚    5 features       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Typical domains:**
- User Management
- Payment Processing
- Product Catalog
- Order Management
- Analytics & Reporting

---

### âœ¨ Feature Level

Individual features within a domain, prioritized by importance.

**Shows:**
- Feature name
- Feature completion percentage
- Priority badge (CRITICAL, HIGH, MEDIUM, LOW)
- Status indicator
- Number of subtasks
- Dependencies on other features

**Priority colors:**
- **Red (#ef4444)** - CRITICAL
- **Orange (#f59e0b)** - HIGH
- **Blue (#3b82f6)** - MEDIUM
- **Gray (#6b7280)** - LOW

**Status indicators:**
- âœ“ **Complete** - 100% done
- âŸ³ **In Progress** - 1-99% done
- â—‹ **Pending** - 0% done

**Example:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User Authentication    â”‚
â”‚         45% âŸ³           â”‚
â”‚  ğŸ”´ CRITICAL            â”‚
â”‚  3 subtasks             â”‚
â”‚  Depends: Database      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ğŸ“ Subtask Level (Bottom)

Individual work items within a feature.

**Shows:**
- Subtask name
- Subtask completion percentage
- Status indicator

**Example:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Password Reset     â”‚
â”‚       100% âœ“        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Visual Indicators

### Completion Percentage

Each node displays a progress bar and percentage:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Feature Name      â”‚
â”‚   [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘] 75%  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **Green bar** - Progress indicator
- **Percentage** - Exact completion
- **Checkmark (âœ“)** - When 100% complete

### Priority Badges

Features show priority with color-coded badges:

- ğŸ”´ **CRITICAL** - Blocking other work, must be done ASAP
- ğŸŸ  **HIGH** - Important but not blocking
- ğŸ”µ **MEDIUM** - Standard priority
- âšª **LOW** - Nice to have, can defer

### Status Icons

- âœ“ **Complete** - All work finished
- âŸ³ **In Progress** - Currently being worked on
- â—‹ **Pending** - Not started yet

### Expand/Collapse

Click nodes to expand or collapse children:
- **â–¼** - Expanded (showing children)
- **â–¶** - Collapsed (children hidden)

---

## Example Product Structure

Here's how a typical e-commerce SaaS product is organized:

```
ğŸ“¦ E-commerce SaaS Platform (65%)
â”œâ”€ ğŸ—‚ï¸ User Management (80%)
â”‚  â”œâ”€ âœ¨ User Authentication (100%) ğŸ”´ CRITICAL
â”‚  â”‚  â”œâ”€ ğŸ“ Email/Password Login (100%) âœ“
â”‚  â”‚  â”œâ”€ ğŸ“ OAuth Integration (100%) âœ“
â”‚  â”‚  â””â”€ ğŸ“ Password Reset (100%) âœ“
â”‚  â”œâ”€ âœ¨ User Profiles (75%) ğŸŸ  HIGH
â”‚  â”‚  â”œâ”€ ğŸ“ Profile CRUD (100%) âœ“
â”‚  â”‚  â”œâ”€ ğŸ“ Avatar Upload (50%) âŸ³
â”‚  â”‚  â””â”€ ğŸ“ Settings Page (0%) â—‹
â”‚  â””â”€ âœ¨ Role-based Access (60%) ğŸ”µ MEDIUM
â”‚     â”œâ”€ ğŸ“ Admin Panel (100%) âœ“
â”‚     â””â”€ ğŸ“ Permissions System (20%) âŸ³
â”œâ”€ ğŸ—‚ï¸ Product Catalog (50%)
â”‚  â”œâ”€ âœ¨ Product CRUD (80%) ğŸ”´ CRITICAL
â”‚  â”œâ”€ âœ¨ Categories (40%) ğŸŸ  HIGH
â”‚  â””â”€ âœ¨ Search & Filters (30%) ğŸ”µ MEDIUM
â””â”€ ğŸ—‚ï¸ Payment Processing (40%)
   â”œâ”€ âœ¨ Stripe Integration (60%) ğŸ”´ CRITICAL
   â”œâ”€ âœ¨ Shopping Cart (50%) ğŸŸ  HIGH
   â””â”€ âœ¨ Order History (10%) âšª LOW
```

---

## Features

### Filtering by Priority

Focus on what matters most by filtering features:

```typescript
<ProductStructureVisualizer
  filterPriority="CRITICAL"
/>
```

Shows only CRITICAL features and their parent domains.

### Filtering by Status

See only active work:

```typescript
<ProductStructureVisualizer
  filterStatus="in-progress"
/>
```

Shows only features currently being worked on.

### Expand/Collapse All

Quickly navigate large product trees:

- **Expand All** - Show complete hierarchy
- **Collapse All** - Show only domains
- **Expand to Level** - Show specific depth (e.g., features but not subtasks)

### Dependency Visualization

Features can depend on other features:

```typescript
{
  name: "Shopping Cart",
  dependencies: ["user-auth", "product-catalog"]
}
```

Dependencies are shown:
- As dotted lines connecting features
- In tooltip when hovering
- With warning if dependency incomplete

---

## Integration with agentful

### Flat Product Structure

Simplest approach - all features in one file:

**File:** `.claude/product/index.md`

```markdown
# E-commerce SaaS Platform

## User Authentication
Priority: CRITICAL
Status: Complete
Completion: 100%

Users can register, login, and reset passwords.

### Subtasks
- [x] Email/Password Login
- [x] OAuth Integration (Google, GitHub)
- [x] Password Reset Flow

## Product CRUD
Priority: CRITICAL
Status: In Progress
Completion: 60%
Dependencies: User Authentication

Admins can create, read, update, and delete products.

### Subtasks
- [x] Create Product API
- [x] List Products API
- [ ] Update Product API
- [ ] Delete Product API
```

### Hierarchical Product Structure

For larger projects, organize by domains:

**Structure:**
```
.claude/product/
â”œâ”€ index.md              # Product overview
â”œâ”€ domains/
â”‚  â”œâ”€ user-management/
â”‚  â”‚  â”œâ”€ index.md        # Domain overview
â”‚  â”‚  â”œâ”€ auth.md         # Authentication feature
â”‚  â”‚  â””â”€ profiles.md     # User profiles feature
â”‚  â”œâ”€ product-catalog/
â”‚  â”‚  â”œâ”€ index.md
â”‚  â”‚  â”œâ”€ products.md
â”‚  â”‚  â””â”€ categories.md
â”‚  â””â”€ payments/
â”‚     â”œâ”€ index.md
â”‚     â””â”€ stripe.md
```

**Domain Index:** `.claude/product/domains/user-management/index.md`

```markdown
# User Management Domain

Handles all user-related functionality including authentication, profiles, and permissions.

Completion: 80%
```

**Feature File:** `.claude/product/domains/user-management/auth.md`

```markdown
# User Authentication

Priority: CRITICAL
Status: Complete
Completion: 100%

## Description
Users can register, login, logout, and reset passwords securely.

## Acceptance Criteria
- [ ] Email/password registration
- [ ] OAuth login (Google, GitHub)
- [ ] Password reset via email
- [ ] Session management
- [ ] JWT token refresh

## Subtasks
- [x] Email/Password Login
- [x] OAuth Integration
- [x] Password Reset
- [x] Session Management
```

### Auto-detection

agentful automatically detects your product structure:

```bash
# Run in Claude Code
/agentful-start
```

Output:
```
âœ“ Detected flat product structure (.claude/product/index.md)
âœ“ Found 12 features across 1 file
âœ“ Overall completion: 65%
```

Or for hierarchical:
```
âœ“ Detected hierarchical product structure
âœ“ Found 3 domains with 12 features
âœ“ Overall completion: 65%
```

---

## Keyboard Shortcuts

- **Tab** - Navigate between nodes
- **Enter / Space** - Expand/collapse node
- **Arrow keys** - Pan view
- **+** - Zoom in
- **-** - Zoom out
- **0** - Reset zoom
- **E** - Expand all
- **C** - Collapse all
- **F** - Focus on selected node

---

## Accessibility

The product structure visualization is fully accessible:

- **ARIA tree role** for semantic hierarchy
- **ARIA expanded/collapsed** attributes on nodes
- **Keyboard navigation** through entire tree
- **Screen reader announcements** for completion and status
- **High contrast** colors and borders
- **Focus indicators** on all nodes

---

## TypeScript Types

```typescript
// Node levels
type NodeLevel = 'product' | 'domain' | 'feature' | 'subtask'

// Status
type NodeStatus = 'complete' | 'in-progress' | 'pending'

// Priority
type Priority = 'CRITICAL' | 'HIGH' | 'MEDIUM' | 'LOW'

// Subtask
interface Subtask {
  id: string
  name: string
  completion: number
  status: NodeStatus
}

// Feature
interface Feature {
  id: string
  name: string
  completion: number
  priority: Priority
  status: NodeStatus
  subtasks: Subtask[]
  description?: string
  dependencies?: string[]
}

// Domain
interface Domain {
  id: string
  name: string
  completion: number
  features: Feature[]
  description?: string
}

// Product
interface Product {
  id: string
  name: string
  completion: number
  description?: string
}

// Full structure
interface ProductStructure {
  product: Product
  domains: Domain[]
}
```

---

## Usage Examples

### Basic Usage

```tsx
import { ProductStructureVisualizer } from './visualizations/ProductStructureVisualizer'

function App() {
  return <ProductStructureVisualizer />
}
```

### With Custom Data

```tsx
import { ProductStructureVisualizer } from './visualizations/ProductStructureVisualizer'

const myProduct = {
  product: {
    id: 'my-saas',
    name: 'My SaaS Platform',
    completion: 45,
  },
  domains: [
    {
      id: 'auth',
      name: 'Authentication',
      completion: 80,
      features: [
        {
          id: 'login',
          name: 'User Login',
          completion: 100,
          priority: 'CRITICAL',
          status: 'complete',
          subtasks: [],
        },
      ],
    },
  ],
}

function App() {
  return (
    <ProductStructureVisualizer
      data={myProduct}
      filterPriority="HIGH"
      initiallyExpanded={true}
    />
  )
}
```

---

## Best Practices

### Organizing Features

**Do:**
- Group related features into logical domains
- Use clear, descriptive feature names
- Set realistic priorities
- Update completion percentages regularly
- Document dependencies

**Don't:**
- Create too many tiny features (combine related work)
- Skip priority settings (everything can't be CRITICAL)
- Forget to update status and completion
- Create circular dependencies

### Priority Guidelines

**CRITICAL:**
- Blocking other features
- Core functionality
- Security issues
- Data loss prevention

**HIGH:**
- Important features
- User-facing improvements
- Performance optimizations

**MEDIUM:**
- Standard features
- Internal improvements
- Documentation

**LOW:**
- Nice-to-haves
- Future enhancements
- Experimental features

---

## Next Steps

- **[Workflow Pipeline](/visualizations/workflow-pipeline)** - See development process
- **[Quality Gates](/visualizations/quality-gates)** - Monitor code quality
- **[Agent Architecture](/visualizations/agent-architecture)** - Understand agent system
- **[Product Planning](/commands/agentful-product)** - Create product specs
- **[Quick Start](/getting-started/quick-start)** - Start building
