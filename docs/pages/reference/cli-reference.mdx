
# CLI Reference

Complete reference for all agentful CLI commands, options, and outputs.

## Installation

```bash
# Local installation
npx @itz4blitz/agentful init

# Global installation
npm install -g @itz4blitz/agentful
```

## Commands

### `agentful init`

Initialize agentful in the current directory.

#### Usage

```bash
agentful init
agentful init --bare
```

#### Options

| Option | Type | Description |
|--------|------|-------------|
| `--bare` | flag | Skip creating template files (CLAUDE.md, PRODUCT.md), only create .claude/ and .agentful/ directories |

#### What It Creates

1. **`.claude/`** directory (if not exists)
   - All agent configurations
   - Command definitions
   - Settings and permissions
   - Skills and capabilities

2. **`.agentful/`** directory (gitignored)
   - `state.json` - Current work state
   - `completion.json` - Feature progress tracking
   - `decisions.json` - Pending/resolved decisions
   - `architecture.json` - Detected tech stack

3. **Template files** (skipped with `--bare`)
   - `PRODUCT.md` - Product specification template
   - `CLAUDE.md` - Quick start guide

4. **`.gitignore`** update
   - Adds `.agentful/` to gitignore

#### Behavior

If `.claude/` already exists, prompts for confirmation:

```
‚ö†Ô∏è  .claude/ directory already exists!
Overwrite? (y/N)
```

- `y` - Removes existing directory and recreates
- `N` or any other input - Aborts initialization

#### Output Example

```
    ___    __  ____________  ____  ___   ____________
   /   |  / / / /_  __/ __ \/ __ \/ _ | / ____/  _/ /
  / /| | / / / / / / /_/ / /_/ /  __ |/ /    / // /
 / ___ |/ /_/ / / / / _, _/ _, _/ /_/ / /___/ // /
/_/  |_|_____/ /_/_/ /_/ |_/_/ |_|\____/\____/___/

                   v1.0.0

Creating .claude/ directory structure...
Initializing state files...
  ‚úì Created CLAUDE.md
  ‚úì Created PRODUCT.md
Added .agentful/ to .gitignore

‚úÖ agentful initialized successfully!

Next steps:
  1. Edit PRODUCT.md with your product specification
  2. Run: claude
  3. Type: /agentful-start

For autonomous 24/7 development:
  /ralph-loop "/agentful-start" --max-iterations 50 --completion-promise "AGENTFUL_COMPLETE"
```

#### Exit Codes

- `0` - Successfully initialized
- `1` - Initialization failed (directory permissions, user aborted)

---

### `agentful status`

Display current development progress and state.

#### Usage

```bash
agentful status
```

#### Prerequisites

- Must be run in a directory with `.agentful/` folder
- `state.json` must exist

#### Output Sections

##### 1. Current Work

Shows active development task:

```
Current Status:

üîß Working on: Authentication - JWT implementation
   Phase: backend-implementation
   Iterations: 3
```

Or if idle:

```
üí§ Idle - no active task
```

##### 2. Progress Bar

Visual completion percentage:

```
Progress:
   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 48%
```

##### 3. Quality Gates

Status of all quality gates:

```
Quality Gates:
   ‚úÖ Tests Passing
   ‚ùå No Type Errors
   ‚úÖ No Dead Code
   ‚ùå Coverage 80
   ‚ö†Ô∏è  Security Clean
```

##### 4. Pending Decisions

If decisions are blocking development:

```
‚ö†Ô∏è  2 pending decisions:
   1. Should auth use JWT or session cookies?
   2. Which database provider?

   Run: /agentful-decide
```

##### 5. Next Actions

Always shows available commands:

```
Next Actions:
   ‚Ä¢ /agentful-start    - Continue development
   ‚Ä¢ /agentful-decide  - Answer pending decisions
   ‚Ä¢ /agentful-validate- Run quality checks
```

#### Error Cases

```
‚ùå agentful not initialized in this directory!
Run: npx @itz4blitz/agentful init
```

```
‚ùå State file missing!
Run: npx @itz4blitz/agentful init
```

#### Complete Output Example

```
    ___    __  ____________  ____  ___   ____________
   /   |  / / / /_  __/ __ \/ __ \/ _ | / ____/  _/ /
  / /| | / / / / / / /_/ / /_/ /  __ |/ /    / // /
 / ___ |/ /_/ / / / / _, _/ _, _/ /_/ / /___/ // /
/_/  |_|_____/ /_/_/ /_/ |_/_/ |_|\\____/\\____/___/

                   v1.0.0

Current Status:

üîß Working on: User authentication system
   Phase: backend-implementation
   Iterations: 7

Progress:
   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 35%

Quality Gates:
   ‚ùå Tests Passing
   ‚ùå No Type Errors
   ‚úÖ No Dead Code
   ‚ùå Coverage 80
   ‚úÖ Security Clean

Next Actions:
   ‚Ä¢ /agentful-start    - Continue development
   ‚Ä¢ /agentful-decide  - Answer pending decisions
   ‚Ä¢ /agentful-validate- Run quality checks
```

---

### `agentful --help`

Display help information.

#### Usage

```bash
agentful --help
agentful -h
agentful help
```

#### Output

```
    ___    __  ____________  ____  ___   ____________
   /   |  / / / /_  __/ __ \/ __ \/ _ | / ____/  _/ /
  / /| | / / / / / / /_/ / /_/ /  __ |/ /    / // /
 / ___ |/ /_/ / / / / _, _/ _, _/ /_/ / /___/ // /
/_/  |_|_____/ /_/_/ /_/ |_/_/ |_|\\____/\\____/___/

                   v1.0.0

USAGE:
  agentful <command>

COMMANDS:
  init         Initialize agentful in current directory
  init --bare  Skip creating templates (just .claude/)
  status      Show current development progress
  --help       Show this help message
  --version    Show version

AFTER INIT:
  1. Edit PRODUCT.md with your product spec
  2. Run claude to start Claude Code
  3. Type /agentful-start to begin autonomous development

FOR 24/7 DEVELOPMENT:
  /ralph-loop "/agentful-start" --max-iterations 50 --completion-promise "AGENTFUL_COMPLETE"
```

---

### `agentful --version`

Display agentful version.

#### Usage

```bash
agentful --version
agentful -v
```

#### Output

```
agentful v1.0.0
```

---

## Exit Codes Summary

| Code | Meaning |
|------|---------|
| 0 | Success |
| 1 | Error (unknown command, initialization failed, missing state) |

---

## Environment

### Required Files

| File | Purpose | Created By |
|------|---------|------------|
| `.claude/` | agentful configuration | `agentful init` |
| `.agentful/state.json` | Current state | `agentful init` |
| `.agentful/completion.json` | Progress tracking | `agentful init` |
| `.agentful/decisions.json` | Decision tracking | `agentful init` |
| `.agentful/architecture.json` | Tech stack detection | Agent (automatically) |

### Optional Files

| File | Purpose | Created By |
|------|---------|------------|
| `PRODUCT.md` | Product specification | `agentful init` (skip with `--bare`) |
| `CLAUDE.md` | Quick start guide | `agentful init` (skip with `--bare`) |

### Directory Permissions

agentful requires:
- Read access to current directory
- Write access to create `.claude/` and `.agentful/`
- Write access to update `.gitignore`

---

## Color Scheme

The CLI uses ANSI colors for better readability:

| Color | Usage |
|-------|-------|
| Cyan | Banner, branding |
| Green | Success messages, completed items |
| Yellow | Warnings, pending items |
| Red | Errors, failures |
| Blue | Active work, information |
| Magenta | Not currently used |
| Dim/Bright | Text emphasis |

---

## Version Compatibility

### agentful Version

Current version: **1.0.0**

Check compatibility:

```bash
agentful --version
```

### Node.js Requirements

Minimum Node.js version: **18.0.0**

Check your version:

```bash
node --version
```

---

## Quick Reference

| Command | Purpose | Common Use Case |
|---------|---------|-----------------|
| `agentful init` | Start new project | Creating new agentful project |
| `agentful init --bare` | Config only | Adding to existing project |
| `agentful status` | Check progress | See what's done/in progress |
| `agentful --help` | Get help | Remember command syntax |
| `agentful --version` | Check version | Debug version issues |

---

## Troubleshooting

### "Command not found"

```bash
# Use npx instead
npx @itz4blitz/agentful init

# Or install globally
npm install -g @itz4blitz/agentful
```

### "Permission denied"

```bash
# Check directory permissions
ls -la .

# Ensure write access
chmod u+w .
```

### "Already initialized"

```bash
# Remove existing .claude/ first
rm -rf .claude .agentful

# Then reinitialize
agentful init
```

### State file corruption

```bash
# Remove corrupted state
rm .agentful/state.json

# Reinitialize (preserves other state)
agentful init --bare
```

---

## Integration Examples

### With npm scripts

```json
{
  "scripts": {
    "agentful:init": "agentful init",
    "agentful:status": "agentful status",
    "start": "claude"
  }
}
```

### With CI/CD

```bash
# Check agentful status in CI
- run: agentful status

# Validate completion percentage
- run: |
    PERCENT=$(jq -r '.overall' .agentful/completion.json)
    if [ "$PERCENT" -lt 100 ]; then
      echo "Project not complete: $PERCENT%"
      exit 1
    fi
```

### With Git hooks

```bash
# .git/hooks/pre-commit
#!/bin/bash
agentful status
echo "Check progress before committing"
```

---

## See Also

- [State Files Reference](./state-files.mdx) - Details on state file formats
- [Settings Reference](./settings-reference.mdx) - Configuration options
- [Commands](../commands) - Claude Code slash commands
- [Agents](../agents) - Agent specifications
