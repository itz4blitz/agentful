# Agents

Agents are autonomous workers that execute specific tasks in agentful. Each agent has a specialized role, tools, and knowledge base.

## Core Concept

:::info[Agents vs Skills]
**Agents are ACTORS that do work. Skills are KNOWLEDGE they reference.**

- ü§ñ **Agents** = Workers with tools (Read, Write, Bash, Task, etc.)
- üìö **Skills** = Reusable knowledge bases (patterns, examples, best practices)
:::

## Three-Tier Architecture

agentful organizes agents into three categories based on lifecycle and purpose:

1. **Core Agents** - Universal specialists (orchestrator, reviewer, fixer, etc.) included in every installation. Same for all projects.
2. **Domain Agents** - Generated by Architect based on your product's business logic (payment-processor, order-fulfillment, etc.). Project-specific.
3. **Ephemeral Agents** - Temporary agents for one-off tasks (2-hour DB migration) or longer-term work (multi-week refactor). Deleted when done.

This pattern applies to [skills](/skills) too - see [our philosophy](/#our-philosophy) for details.

## Agent Types

### 1. Core Agents

Built-in agents that ship with agentful.

| Agent | Purpose | Tools | Model |
|-------|---------|-------|-------|
| [Orchestrator](/agents/orchestrator) | Coordinates work, delegates to specialists | [Read](https://www.vtrivedy.com/posts/claudecode-tools-reference#read), [Write](https://www.vtrivedy.com/posts/claudecode-tools-reference#write), [Edit](https://www.vtrivedy.com/posts/claudecode-tools-reference#edit), [Glob](https://www.vtrivedy.com/posts/claudecode-tools-reference#glob), [Grep](https://www.vtrivedy.com/posts/claudecode-tools-reference#grep), [Task](https://www.vtrivedy.com/posts/claudecode-tools-reference#task) | Opus |
| [Architect](/agents/architect) | Analyzes tech stack, generates domain agents and skills | [Read](https://www.vtrivedy.com/posts/claudecode-tools-reference#read), [Write](https://www.vtrivedy.com/posts/claudecode-tools-reference#write), [Edit](https://www.vtrivedy.com/posts/claudecode-tools-reference#edit), [Glob](https://www.vtrivedy.com/posts/claudecode-tools-reference#glob), [Grep](https://www.vtrivedy.com/posts/claudecode-tools-reference#grep), [Task](https://www.vtrivedy.com/posts/claudecode-tools-reference#task) | Opus |
| [Backend](/agents/backend) | Implements server-side code | [Read](https://www.vtrivedy.com/posts/claudecode-tools-reference#read), [Write](https://www.vtrivedy.com/posts/claudecode-tools-reference#write), [Edit](https://www.vtrivedy.com/posts/claudecode-tools-reference#edit), [Glob](https://www.vtrivedy.com/posts/claudecode-tools-reference#glob), [Grep](https://www.vtrivedy.com/posts/claudecode-tools-reference#grep), [Bash](https://www.vtrivedy.com/posts/claudecode-tools-reference#bash) | Sonnet |
| [Frontend](/agents/frontend) | Implements client-side code | [Read](https://www.vtrivedy.com/posts/claudecode-tools-reference#read), [Write](https://www.vtrivedy.com/posts/claudecode-tools-reference#write), [Edit](https://www.vtrivedy.com/posts/claudecode-tools-reference#edit), [Glob](https://www.vtrivedy.com/posts/claudecode-tools-reference#glob), [Grep](https://www.vtrivedy.com/posts/claudecode-tools-reference#grep), [Bash](https://www.vtrivedy.com/posts/claudecode-tools-reference#bash) | Sonnet |
| [Tester](/agents/tester) | Writes tests, ensures 80% coverage | [Read](https://www.vtrivedy.com/posts/claudecode-tools-reference#read), [Write](https://www.vtrivedy.com/posts/claudecode-tools-reference#write), [Edit](https://www.vtrivedy.com/posts/claudecode-tools-reference#edit), [Glob](https://www.vtrivedy.com/posts/claudecode-tools-reference#glob), [Grep](https://www.vtrivedy.com/posts/claudecode-tools-reference#grep), [Bash](https://www.vtrivedy.com/posts/claudecode-tools-reference#bash) | Sonnet |
| [Reviewer](/agents/reviewer) | Validates code quality (6 core gates) | [Read](https://www.vtrivedy.com/posts/claudecode-tools-reference#read), [Glob](https://www.vtrivedy.com/posts/claudecode-tools-reference#glob), [Grep](https://www.vtrivedy.com/posts/claudecode-tools-reference#grep), [Bash](https://www.vtrivedy.com/posts/claudecode-tools-reference#bash), [Write](https://www.vtrivedy.com/posts/claudecode-tools-reference#write), [Edit](https://www.vtrivedy.com/posts/claudecode-tools-reference#edit) | Sonnet |
| [Fixer](/agents/fixer) | Fixes issues found by Reviewer | [Read](https://www.vtrivedy.com/posts/claudecode-tools-reference#read), [Write](https://www.vtrivedy.com/posts/claudecode-tools-reference#write), [Edit](https://www.vtrivedy.com/posts/claudecode-tools-reference#edit), [Glob](https://www.vtrivedy.com/posts/claudecode-tools-reference#glob), [Grep](https://www.vtrivedy.com/posts/claudecode-tools-reference#grep), [Bash](https://www.vtrivedy.com/posts/claudecode-tools-reference#bash) | Sonnet |
| [Product Analyzer](/agents/product-analyzer) | Analyzes product specs, identifies gaps | [Read](https://www.vtrivedy.com/posts/claudecode-tools-reference#read), [Write](https://www.vtrivedy.com/posts/claudecode-tools-reference#write), [Edit](https://www.vtrivedy.com/posts/claudecode-tools-reference#edit), [Glob](https://www.vtrivedy.com/posts/claudecode-tools-reference#glob), [Grep](https://www.vtrivedy.com/posts/claudecode-tools-reference#grep) | Opus |

Location: `.claude/agents/*.md`

### 2. Domain Agents

Business-specific agents for your product's domain needs, generated by Architect.

**E-commerce example:**
- `payment-processor.md` - Handles payments, refunds, billing (uses `stripe-integration`, `payment-webhooks` skills)
- `order-fulfillment.md` - Order processing, shipping, tracking (uses `shipping-api`, `order-state-machine` skills)
- `inventory-manager.md` - Stock tracking, restocking alerts (uses `inventory-sync`, `stock-alerts` skills)

**SaaS platform example:**
- `subscription-manager.md` - Plans, upgrades, billing cycles (uses `subscription-billing`, `plan-migration` skills)
- `workspace-coordinator.md` - Team creation, permissions, sharing (uses `rbac-patterns`, `team-provisioning` skills)
- `analytics-collector.md` - Event tracking, metrics, reports (uses `event-schema`, `metrics-aggregation` skills)

Location: `.claude/agents/domain/*.md`

**Generation:** Architect analyzes your product spec and creates domain agents matching your business logic.

### How Generated Skills Work With Agents

Generated tech stack skills are used by core agents (backend, frontend, tester).

:::tip[Example: Next.js + Prisma + Stripe Project]
**How this would work in a project that used Next.js, Prisma ORM, and Stripe for payments:**

**Architect would generate these skills:**
- `.claude/skills/nextjs-patterns/` - App Router, Server Components, Server Actions
- `.claude/skills/prisma-schemas/` - Models, migrations, relations
- `.claude/skills/stripe-integration/` - Payment flows, webhooks, subscriptions
- `.claude/skills/react-patterns/` - Hooks, state management, forms
- `.claude/skills/typescript-conventions/` - Types, interfaces, generics

**Core agents automatically reference generated skills:**
- üîß **Backend** looks in `.claude/skills/` for backend patterns (Next.js API routes, Prisma schemas, etc.)
- üé® **Frontend** looks in `.claude/skills/` for frontend patterns (React hooks, Next.js components, etc.)
- ‚úÖ **Tester** looks in `.claude/skills/` for testing patterns matching your stack

**Domain agents combine multiple generated skills:**
- üí≥ `payment-processor` references `.claude/skills/stripe-integration/`, `.claude/skills/prisma-schemas/`, etc.

**How it works:**
- Core agents ship with `.claude/agents/` and **never need modification**
- Claude Code already knows how to use Next.js, Prisma, Stripe, etc.
- Skills provide **project-specific patterns** (your file structure, naming conventions, custom patterns)
- Agents automatically discover and reference skills in `.claude/skills/`
:::

**Auto-generation workflow:**

Run `/agentful-generate` and Architect will:
1. üîç Scan your codebase for tech stack and conventions
2. üìù Generate skills documenting **your specific patterns** (not generic framework docs)
3. ‚ú® Core agents automatically find and use these skills - **zero modification**
4. üèóÔ∏è Optionally create domain agents for business workflows

:::warning[Core Agents Are Read-Only]
Core agent templates in `.claude/agents/` should never be edited. They work OOTB by referencing `.claude/skills/` automatically. Claude Code already understands frameworks - skills capture YOUR conventions.
:::

### 3. Ephemeral Agents

Temporary agents for one-off tasks. Created on-demand, destroyed after completion.

**Use cases:**
- Database migrations
- Large-scale refactoring
- Security audits
- Data imports
- One-time cleanup

Location: `.claude/agents/ephemeral/`

Lifecycle: Created ‚Üí Execute ‚Üí Report ‚Üí Archive/Delete

## Using Agents

### Manual Invocation

Tag agents with `@agent-name` in chat:

```
@backend Implement user authentication with JWT
@frontend Create login page with form validation
@tester Write tests for auth service
@reviewer Check all changes
```

### Automatic Delegation

The Orchestrator automatically delegates work:

```
User: "Build authentication"
  ‚Üì
Orchestrator ‚Üí @backend (API routes)
Orchestrator ‚Üí @frontend (login page)
Orchestrator ‚Üí @tester (tests)
Orchestrator ‚Üí @reviewer (validation)
Orchestrator ‚Üí @fixer (fix issues)
```

## Agent Workflow

Standard development cycle:

```
1. Orchestrator reads product spec
2. Delegates to Backend/Frontend for implementation
3. Delegates to Tester for test coverage
4. Delegates to Reviewer for validation
5. If issues found ‚Üí Fixer ‚Üí Reviewer again
6. Updates completion tracking
7. Continues to next feature
```

## Key Distinctions

### Reviewer vs Fixer

- **Reviewer** = DETECTS issues (runs 6 core quality gates)
- **Fixer** = FIXES issues (reads `.agentful/last-validation.json`)

Reviewer finds problems, Fixer solves them.

### Backend vs Frontend

- **Backend** = API routes, services, repositories, database
- **Frontend** = UI components, pages, hooks, state, styling

Agents never cross domains. Backend doesn't modify UI; Frontend doesn't touch APIs.

### Core vs Domain

- **Core agents** = General roles (backend, frontend, tester, reviewer)
- **Domain agents** = Business-specific roles (payment-processor, order-fulfillment, subscription-manager)

Core agents handle generic implementation. Domain agents understand your business logic and workflows.

## Agent Communication

Agents communicate through:

1. **State files** - `.agentful/state.json`, `completion.json`, `decisions.json`
2. **Task tool** - Spawn other agents: `Task("backend", "implement X")`
3. **File system** - Shared codebase
4. **Review reports** - `.agentful/last-validation.json`

See [Background Agent Patterns](/concepts/background-agents) for detailed information on how agents delegate work, execution patterns, and future parallelization plans.

## Model Selection

### Opus (Highest Reasoning)
- Orchestrator - Complex coordination
- Architect - Tech stack analysis

### Sonnet (Balanced)
- Backend, Frontend, Tester, Reviewer, Fixer - Implementation work

Opus = expensive but smarter. Sonnet = fast and capable for most tasks.

## Creating Custom Agents

See [Custom Agents](/agents/custom-agents) for:
- Creating specialized agents
- Supporting new technologies
- Building ephemeral agents
- Agent templates and patterns

## Monitoring Agents

Check agent activity:

```bash
# View state
cat .agentful/state.json

# View completion
cat .agentful/completion.json

# View pending decisions
cat .agentful/decisions.json

# View last review
cat .agentful/last-validation.json
```

## Next Steps

- [Background Agent Patterns](/concepts/background-agents) - How agent delegation works
- [Orchestrator](/agents/orchestrator) - Understand the coordinator
- [Backend](/agents/backend) - Server-side implementation patterns
- [Frontend](/agents/frontend) - Client-side implementation patterns
- [Reviewer](/agents/reviewer) - Quality validation process
- [Custom Agents](/agents/custom-agents) - Build your own agents
