# Quality Gate Dashboard Examples

Interactive examples of the Quality Gate Dashboard component.

## Basic Dashboard

Default configuration with all gates passing:

```tsx
import { QualityGateDashboard } from './QualityGateDashboard'

<QualityGateDashboard />
```

## Compact Mode

Smaller cards and spacing for embedded views:

```tsx
<QualityGateDashboard compact />
```

## Without Overall Score

Hide the overall score summary card:

```tsx
<QualityGateDashboard showOverallScore={false} />
```

## Non-Interactive

Disable click interactions and details expansion:

```tsx
<QualityGateDashboard interactive={false} />
```

## Custom Gates with Failures

Example showing mixed pass/fail states:

```tsx
import { QualityGateDashboard, QualityGate } from './QualityGateDashboard'

const customGates: QualityGate[] = [
  {
    id: 'types',
    name: 'Type Checking',
    icon: 'ğŸ“˜',
    color: '#3b82f6',
    status: 'pass',
    metric: { value: 0, unit: 'errors' },
    description: 'No type errors in codebase',
    lastChecked: new Date(),
  },
  {
    id: 'lint',
    name: 'Linting',
    icon: 'âœ¨',
    color: '#8b5cf6',
    status: 'fail',
    metric: { value: 12, unit: 'violations' },
    description: 'Code follows style guide',
    details: 'Found 12 ESLint violations: 8 in src/components, 4 in src/utils',
    lastChecked: new Date(),
  },
  {
    id: 'tests',
    name: 'Tests',
    icon: 'ğŸ§ª',
    color: '#f59e0b',
    status: 'pass',
    metric: { value: 24, total: 24, unit: 'passing' },
    description: 'All tests passing',
    lastChecked: new Date(),
  },
  {
    id: 'coverage',
    name: 'Coverage',
    icon: 'ğŸ“Š',
    color: '#14b8a6',
    status: 'fail',
    metric: { value: 65, unit: '%' },
    description: 'Minimum 80% coverage required',
    details: 'Coverage is at 65%, below the required 80%. Uncovered areas: auth module (40%), utils (55%)',
    lastChecked: new Date(),
  },
  {
    id: 'security',
    name: 'Security',
    icon: 'ğŸ”’',
    color: '#ef4444',
    status: 'pass',
    metric: { value: 0, unit: 'vulnerabilities' },
    description: 'No known vulnerabilities',
    lastChecked: new Date(),
  },
  {
    id: 'deadcode',
    name: 'Dead Code',
    icon: 'ğŸ—‘ï¸',
    color: '#6b7280',
    status: 'pass',
    metric: { value: 0, unit: 'unused exports' },
    description: 'No unused code detected',
    lastChecked: new Date(),
  },
]

<QualityGateDashboard gates={customGates} />
```

## All Gates Failing (Worst Case)

```tsx
const failingGates: QualityGate[] = [
  {
    id: 'types',
    name: 'Type Checking',
    icon: 'ğŸ“˜',
    color: '#3b82f6',
    status: 'fail',
    metric: { value: 47, unit: 'errors' },
    description: 'No type errors in codebase',
    details: '47 type errors found across 12 files. Most errors in src/api/types.ts',
    lastChecked: new Date(),
  },
  {
    id: 'lint',
    name: 'Linting',
    icon: 'âœ¨',
    color: '#8b5cf6',
    status: 'fail',
    metric: { value: 156, unit: 'violations' },
    description: 'Code follows style guide',
    details: '156 linting violations: unused variables, missing semicolons, inconsistent formatting',
    lastChecked: new Date(),
  },
  {
    id: 'tests',
    name: 'Tests',
    icon: 'ğŸ§ª',
    color: '#f59e0b',
    status: 'fail',
    metric: { value: 18, total: 24, unit: 'passing' },
    description: 'All tests passing',
    details: '6 tests failing: auth.test.ts (3), api.test.ts (2), utils.test.ts (1)',
    lastChecked: new Date(),
  },
  {
    id: 'coverage',
    name: 'Coverage',
    icon: 'ğŸ“Š',
    color: '#14b8a6',
    status: 'fail',
    metric: { value: 42, unit: '%' },
    description: 'Minimum 80% coverage required',
    details: 'Coverage critically low at 42%. Need to add tests for core modules.',
    lastChecked: new Date(),
  },
  {
    id: 'security',
    name: 'Security',
    icon: 'ğŸ”’',
    color: '#ef4444',
    status: 'fail',
    metric: { value: 3, unit: 'vulnerabilities' },
    description: 'No known vulnerabilities',
    details: '3 high-severity vulnerabilities in dependencies. Run npm audit fix.',
    lastChecked: new Date(),
  },
  {
    id: 'deadcode',
    name: 'Dead Code',
    icon: 'ğŸ—‘ï¸',
    color: '#6b7280',
    status: 'fail',
    metric: { value: 28, unit: 'unused exports' },
    description: 'No unused code detected',
    details: '28 unused exports found. Run ts-prune to identify and remove.',
    lastChecked: new Date(),
  },
]

<QualityGateDashboard gates={failingGates} />
```

## Progressive Improvement

Show improvement over time (start with failures, update to passes):

```tsx
import { useState } from 'react'
import { QualityGateDashboard, QualityGate } from './QualityGateDashboard'

function ProgressiveExample() {
  const [iteration, setIteration] = useState(0)

  const gates: QualityGate[] = [
    {
      id: 'types',
      name: 'Type Checking',
      icon: 'ğŸ“˜',
      color: '#3b82f6',
      status: iteration >= 1 ? 'pass' : 'fail',
      metric: { value: iteration >= 1 ? 0 : 47, unit: 'errors' },
      description: 'No type errors in codebase',
      lastChecked: new Date(),
    },
    {
      id: 'lint',
      name: 'Linting',
      icon: 'âœ¨',
      color: '#8b5cf6',
      status: iteration >= 2 ? 'pass' : 'fail',
      metric: { value: iteration >= 2 ? 0 : 156, unit: 'violations' },
      description: 'Code follows style guide',
      lastChecked: new Date(),
    },
    {
      id: 'tests',
      name: 'Tests',
      icon: 'ğŸ§ª',
      color: '#f59e0b',
      status: iteration >= 3 ? 'pass' : 'fail',
      metric: {
        value: iteration >= 3 ? 24 : 18,
        total: 24,
        unit: 'passing'
      },
      description: 'All tests passing',
      lastChecked: new Date(),
    },
    {
      id: 'coverage',
      name: 'Coverage',
      icon: 'ğŸ“Š',
      color: '#14b8a6',
      status: iteration >= 4 ? 'pass' : 'fail',
      metric: { value: iteration >= 4 ? 87 : 42, unit: '%' },
      description: 'Minimum 80% coverage required',
      lastChecked: new Date(),
    },
    {
      id: 'security',
      name: 'Security',
      icon: 'ğŸ”’',
      color: '#ef4444',
      status: iteration >= 5 ? 'pass' : 'fail',
      metric: { value: iteration >= 5 ? 0 : 3, unit: 'vulnerabilities' },
      description: 'No known vulnerabilities',
      lastChecked: new Date(),
    },
    {
      id: 'deadcode',
      name: 'Dead Code',
      icon: 'ğŸ—‘ï¸',
      color: '#6b7280',
      status: iteration >= 6 ? 'pass' : 'fail',
      metric: { value: iteration >= 6 ? 0 : 28, unit: 'unused exports' },
      description: 'No unused code detected',
      lastChecked: new Date(),
    },
  ]

  return (
    <div>
      <button
        onClick={() => setIteration((i) => (i + 1) % 7)}
        style={{
          padding: '12px 24px',
          marginBottom: '24px',
          background: '#10b981',
          color: 'white',
          border: 'none',
          borderRadius: '8px',
          fontSize: '1rem',
          fontWeight: '600',
          cursor: 'pointer',
        }}
      >
        Fix Next Gate ({iteration}/6 fixed)
      </button>
      <QualityGateDashboard gates={gates} />
    </div>
  )
}

<ProgressiveExample />
```

## Single Gate View

Show only specific gates:

```tsx
const singleGate: QualityGate[] = [
  {
    id: 'coverage',
    name: 'Code Coverage',
    icon: 'ğŸ“Š',
    color: '#14b8a6',
    status: 'pass',
    metric: { value: 87, unit: '%' },
    description: 'Code coverage exceeds minimum requirement',
    details: 'Coverage breakdown: Components (92%), Utils (84%), API (81%)',
    lastChecked: new Date(),
  },
]

<QualityGateDashboard gates={singleGate} showOverallScore={false} />
```

## Integration Patterns

### With Real-time Updates

```tsx
import { useState, useEffect } from 'react'
import { QualityGateDashboard, QualityGate } from './QualityGateDashboard'

function LiveDashboard() {
  const [gates, setGates] = useState<QualityGate[]>([])
  const [loading, setLoading] = useState(true)

  useEffect(() => {
    const fetchGates = async () => {
      const response = await fetch('/api/quality-gates')
      const data = await response.json()
      setGates(data)
      setLoading(false)
    }

    fetchGates()
    const interval = setInterval(fetchGates, 30000) // Update every 30s

    return () => clearInterval(interval)
  }, [])

  if (loading) {
    return <div>Loading quality gates...</div>
  }

  return <QualityGateDashboard gates={gates} />
}
```

### With Validation API

```tsx
import { QualityGateDashboard } from './QualityGateDashboard'

async function validateProject() {
  const response = await fetch('/api/agentful/validate', {
    method: 'POST',
  })
  return response.json()
}

function ValidatableGates() {
  const [gates, setGates] = useState(sampleGates)
  const [validating, setValidating] = useState(false)

  const handleValidate = async () => {
    setValidating(true)
    const results = await validateProject()
    setGates(results.gates)
    setValidating(false)
  }

  return (
    <div>
      <button
        onClick={handleValidate}
        disabled={validating}
        style={{
          padding: '12px 24px',
          marginBottom: '24px',
          background: validating ? '#6b7280' : '#3b82f6',
          color: 'white',
          border: 'none',
          borderRadius: '8px',
          fontSize: '1rem',
          fontWeight: '600',
          cursor: validating ? 'not-allowed' : 'pointer',
        }}
      >
        {validating ? 'Validating...' : 'Run Validation'}
      </button>
      <QualityGateDashboard gates={gates} />
    </div>
  )
}
```

## Theming

### Light Mode (Custom)

```tsx
<div style={{ background: 'linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)' }}>
  <QualityGateDashboard />
</div>
```

### Custom Colors

```tsx
const customColorGates: QualityGate[] = [
  {
    id: 'types',
    name: 'Type Safety',
    icon: 'ğŸ›¡ï¸',
    color: '#06b6d4', // Cyan
    status: 'pass',
    metric: { value: 0, unit: 'errors' },
    description: 'TypeScript compilation safe',
    lastChecked: new Date(),
  },
  // ... more gates with custom colors
]

<QualityGateDashboard gates={customColorGates} />
```

## Accessibility Examples

All components support keyboard navigation:

- **Tab**: Navigate between cards
- **Enter/Space**: Expand card details
- **Arrow Keys**: Navigate within expanded details (if scrollable)

Screen reader announcements:
- "Type Checking quality gate: passed"
- "Coverage: 87 percent"
- "Last checked: 5 minutes ago"

## Performance Tips

1. **Memoize gate data** if computing from larger datasets
2. **Use stable references** for gate arrays to prevent re-renders
3. **Lazy load details** content if fetching from API
4. **Debounce real-time updates** to avoid excessive re-renders

```tsx
import { useMemo } from 'react'

function OptimizedDashboard({ validationResults }) {
  const gates = useMemo(
    () => computeGatesFromResults(validationResults),
    [validationResults]
  )

  return <QualityGateDashboard gates={gates} />
}
```
