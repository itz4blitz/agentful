{
  "projectName": "agentful",
  "projectType": "library",
  "techStack": {
    "language": "JavaScript",
    "runtime": "Node.js",
    "packageManager": "npm",
    "framework": null,
    "backend": {
      "framework": "Express",
      "language": "JavaScript"
    },
    "frontend": null,
    "database": {
      "type": "none",
      "orm": null
    },
    "testing": {
      "framework": "vitest",
      "coverage": true
    }
  },
  "patterns": [
    "backend",
    "api",
    "cli",
    "library"
  ],
  "conventions": {
    "backend": [
      "Use ES modules (import/export)",
      "One class per file",
      "Use async/await for asynchronous operations",
      "Follow clean architecture with layers"
    ],
    "testing": [
      "Place tests in test/ directory",
      "Use descriptive test names",
      "Aim for 80%+ coverage"
    ]
  },
  "codeExamples": [
    {
      "category": "backend",
      "title": "Pipeline Engine Class Structure",
      "file": "lib/pipeline/engine.js",
      "language": "javascript",
      "code": "export class PipelineEngine extends EventEmitter {\n  constructor(options = {}) {\n    super();\n    this.options = {\n      maxConcurrentJobs: options.maxConcurrentJobs || 3,\n      stateDir: options.stateDir || '.agentful/pipelines',\n      defaultTimeout: options.defaultTimeout || 30 * 60 * 1000,\n      enablePersistence: options.enablePersistence !== false,\n      ...options\n    };\n  }\n\n  async startPipeline(pipelineOrFile, context = {}) {\n    const pipeline = typeof pipelineOrFile === 'string'\n      ? await this.loadPipeline(pipelineOrFile)\n      : pipelineOrFile;\n\n    const runId = this._generateRunId(pipeline.name);\n    // ... initialization logic\n  }\n}",
      "tags": ["backend", "class", "event-emitter"]
    },
    {
      "category": "backend",
      "title": "Atomic File Writing",
      "file": "lib/atomic.js",
      "language": "javascript",
      "code": "export async function atomicWrite(filePath, content) {\n  const tempPath = `${filePath}.tmp.${Date.now()}`;\n  try {\n    await fs.writeFile(tempPath, content, 'utf-8');\n    await fs.rename(tempPath, filePath);\n  } catch (error) {\n    try {\n      await fs.unlink(tempPath);\n    } catch {}\n    throw error;\n  }\n}",
      "tags": ["backend", "file-system", "atomic"]
    }
  ],
  "detectedAt": "2026-01-21T10:00:00Z",
  "version": "1.0.0"
}
